
use_synth :prophet
use_bpm 45

define :play_my_note do
  play chord([:b1, :b2, :e1, :e2, :b3, :e3].choose, :minor).choose, cutoff: 70, amp: 0.5, attack: 0, release: 2
  sleep [0.25, 0.5, 0.5, 0.5, 1, 1].choose
end

in_thread(name: :sam) do
  with_fx :reverb do
    with_fx(:echo, delay: 0.5, decay: 4) do
      loop do
        play_my_note
      end
    end
  end
end