comment do
  defonce :val do
    OSCVal.new(8112)
  end

  defonce :out do
    OSC::Client.new("192.168.15.14", 8112)
  end
  
  defonce :out2 do
    OSC::Client.new("localhost", 8112)
  end
end



a = rand
out2.send(OSC::Message.new("/beat", a))
puts "sent: #{a}"

comment do
  loop do
    v = val.read("/palimpsest/left")
    puts v
    sleep 0.125

  end
end